name: Check FTP Configuration

on:
  workflow_dispatch:

jobs:
  check-secrets:
    runs-on: ubuntu-latest
    steps:
    - name: Check FTP Secrets
      run: |
        echo "üîç Verificando configura√ß√£o dos secrets FTP..."
        echo ""
        
        if [ -z "${{ secrets.FTP_SERVER }}" ]; then
          echo "‚ùå FTP_SERVER n√£o configurado"
        else
          echo "‚úÖ FTP_SERVER configurado"
        fi
        
        if [ -z "${{ secrets.FTP_USERNAME }}" ]; then
          echo "‚ùå FTP_USERNAME n√£o configurado"
        else
          echo "‚úÖ FTP_USERNAME configurado"
        fi
        
        if [ -z "${{ secrets.FTP_PASSWORD }}" ]; then
          echo "‚ùå FTP_PASSWORD n√£o configurado"
        else
          echo "‚úÖ FTP_PASSWORD configurado"
        fi
        
        if [ -z "${{ secrets.FTP_REMOTE_DIR }}" ]; then
          echo "‚ö†Ô∏è  FTP_REMOTE_DIR n√£o configurado (opcional, padr√£o: /)"
        else
          echo "‚úÖ FTP_REMOTE_DIR configurado"
        fi
        
        echo ""
        echo "üìã Para configurar os secrets:"
        echo "1. Acesse: https://github.com/${{ github.repository }}/settings/secrets/actions"
        echo "2. Clique em 'New repository secret'"
        echo "3. Adicione cada secret necess√°rio"
        
        # Verificar se todos os secrets obrigat√≥rios est√£o configurados
        if [ -n "${{ secrets.FTP_SERVER }}" ] && [ -n "${{ secrets.FTP_USERNAME }}" ] && [ -n "${{ secrets.FTP_PASSWORD }}" ]; then
          echo ""
          echo "üéâ Todos os secrets obrigat√≥rios est√£o configurados!"
          echo "   Voc√™ pode habilitar o deploy editando deploy-simple.yml"
          echo "   Mude 'if: false' para 'if: true' no step de deploy"
        else
          echo ""
          echo "‚ö†Ô∏è  Configure os secrets antes de habilitar o deploy"
        fi